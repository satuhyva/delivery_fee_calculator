(this.webpackJsonpdelivery_fee_calculator=this.webpackJsonpdelivery_fee_calculator||[]).push([[0],{107:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(35),c=a.n(i),l=a(7),u=a(185),s=a(180),o=a(181),d=a(166),j=Object(o.a)((function(){return Object(d.a)({appContainer:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginTop:50},containerWithTopMargin:{marginTop:30},inputField:{width:350}})})),b=1e4,m=15e3,p=function(e,t){var a=Object(n.useState)(function(e){switch(e){case"Cart value":return{unit:"\u20ac",label:e,maxValue:b,errorMessage:"Maximum allowed cart value is ".concat(b,"\u20ac")};case"Delivery distance":return{unit:"m",label:e,maxValue:m,errorMessage:"Maximum allowed delivery distance is ".concat(m,"m")};case"Amount of items":return{unit:"",label:e,maxValue:500,errorMessage:"Maximum allowed amount of items is ".concat(500)};default:throw new Error("Form input label not recognized!")}}(e)),r=Object(l.a)(a,1)[0],i=Object(n.useState)(""),c=Object(l.a)(i,2),u=c[0],s=c[1];return{unit:r.unit,errorMessage:u,handleChange:function(e){var a,n,i=e.target.value;(a=i,n=r.unit,new RegExp("\u20ac"===n?"^[0-9]*[.,]?[0-9]{0,2}$":"^[0-9]{0,5}$").test(a))&&(t(i),parseFloat(i)>r.maxValue?s(r.errorMessage):s(""))}}},h=a(2),O=function(e){var t=e.currentValue,a=e.label,n=e.onChange,r=p(a,n),i=r.unit,c=r.errorMessage,l=r.handleChange,o=j();return Object(h.jsx)("div",{className:o.containerWithTopMargin,children:Object(h.jsx)(s.a,{id:"input-".concat(a),error:""!==c,value:t,label:a,variant:"outlined",className:o.inputField,InputProps:{endAdornment:Object(h.jsx)(u.a,{children:i})},helperText:c,onChange:l})})},f=a(69),v=a(178),x=a(179),g=a(177),C=function(e){var t=e.currentValue,a=e.onChange,n=j(),r=t&&t<=new Date?"Only time points in future are allowed":"";return Object(h.jsx)("div",{className:n.containerWithTopMargin,children:Object(h.jsx)(g.b,{dateAdapter:x.a,children:Object(h.jsx)(v.a,{renderInput:function(e){return Object(h.jsx)(s.a,Object(f.a)(Object(f.a)({},e),{},{id:"input-Date and time",className:n.inputField,helperText:r||""}))},label:"Date and Time",value:t,onChange:a,minDateTime:new Date})})})},M=a(186),w=function(e,t){return e>t||e<0?0:parseFloat((t-e).toFixed(3))},E=function(e,t,a,n,r){for(var i=a,c=e-t;c>0;)i+=r,c-=n;return i},F=function(e,t,a){var n=e-t+1;return n>0?n*a:0},D=function(e,t,a,n,r,i){var c=T(e),l=c.day,u=c.hours;return l===t&&u>=a&&u<n?parseFloat(((i-1)*r).toFixed(3)):0},T=function(e){var t=e.split(","),a=t[0],n=t[1].trim().split(" ")[3].split(":")[0];return{day:a,hours:parseInt(n)}},V=function(e,t,a,n){return!(!e||parseFloat(e.replace(",","."))>b||"0"===e)&&(!(!t||parseInt(t)>m||"0"===t)&&(!(!a||parseInt(a)>500||"0"===a)&&!(!n||n<new Date)))},y=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)(""),c=Object(l.a)(i,2),s=c[0],o=c[1],d=Object(n.useState)(""),b=Object(l.a)(d,2),m=b[0],p=b[1],f=Object(n.useState)(function(e){for(var t=e.getMinutes()+30,a=[15,30,45,60,75,90],n=0;n<a.length;){if(t<=a[n]){e.setMinutes(a[n]);break}n++}return e}(new Date)),v=Object(l.a)(f,2),x=v[0],g=v[1],T=Object(n.useState)(null),y=Object(l.a)(T,2),I=y[0],S=y[1],A=j();Object(n.useEffect)((function(){I&&S(null)}),[a,s,m,x]);return Object(h.jsxs)("div",{className:A.appContainer,children:[Object(h.jsx)(u.a,{variant:"h5",children:Object(h.jsx)("strong",{children:"DELIVERY FEE CALCULATOR"})}),Object(h.jsx)(O,{currentValue:a,label:"Cart value",onChange:r}),Object(h.jsx)(O,{currentValue:s,label:"Delivery distance",onChange:o}),Object(h.jsx)(O,{currentValue:m,label:"Amount of items",onChange:p}),Object(h.jsx)(C,{currentValue:x,onChange:g}),Object(h.jsx)("div",{className:A.containerWithTopMargin,children:Object(h.jsx)(M.a,{id:"button-calculate",variant:"contained",onClick:function(){if(x){var e=function(e){var t=e.cartValueEuros,a=e.deliveryDistanceMeters,n=e.amountItems,r=e.time;if(t>=100)return 0;var i=0;return i+=w(t,10),i+=E(a,1e3,2,500,1),i+=F(n,5,.5),i+=D(r,"Fri",15,19,i,1.1),Math.min(i,15)}({cartValueEuros:parseFloat(a.replace(",",".")),deliveryDistanceMeters:parseInt(s),amountItems:parseInt(m),time:x.toUTCString()});console.log(e),S(e.toFixed(2))}},disabled:!V(a,s,m,x),children:"CALCULATE"})}),null!==I&&Object(h.jsx)("div",{className:A.containerWithTopMargin,id:"calculated-fee",children:Object(h.jsx)(u.a,{variant:"h5",children:Object(h.jsx)("strong",{children:"DELIVERY FEE is ".concat(I," \u20ac")})})})]})};c.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(y,{})}),document.getElementById("root"))}},[[107,1,2]]]);
//# sourceMappingURL=main.b841b4de.chunk.js.map